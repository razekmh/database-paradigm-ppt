<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/sign.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section data-auto-animate data-autoslide="300">
				<img src="img/db_frame.png" alt="database icon" width="230" height="300"> 
				<h3>Introduction to Database Paradigms</h3>
			</section>	
			<section data-auto-animate>
				<img src="img/db_frame.png" alt="database icon" width="230" height="300"> 
				<h3>Introduction to Database Paradigms</h3>
				<small style="font-family:'Comforter'"><em>a workshop by Mahmoud Abdelrazek</em></small>
			</section>
			<section>
				<h2>Let's talk about you</h2>
				</br>
				<p>Hi there 👋🏾</p>
				<p>Thank you for joining this course. I hope you enjoy it.</p>
				<p>Let's take a few minutes to talk about you.</p>
				<p>What is your name?</p>
			</section>
			<section>
				<h3>This is Me</h3>
				<img data-src="img/mrazek.jpg" width="25%" height="25%">
				<p>My name is <span style="color:lightblue;font-weight:bold">Mahmoud Abdelrazek</span></p>
				<p style="margin:0px; padding:0px; border:0px;">I worked with <span style="color:lightgreen;font-weight:bold">databases </span>here 👇🏾</p>
				<img data-src="img/workplace.png" width="70%" height="70%" style="margin:0px; padding:0px; border:0px;">
				<p style="margin:0px; padding:0px; border:0px;">and I like to read 📖, run 🏃🏾, code 💻 and sleep 💤</p>
			</section>
			<section>
				<h3>About this course</h3>
				<ul style="text-align: left;font-size:90%">
					<li>What is a <span style="color:lightgreen;font-weight:bold">database</span>? And when do you need to use it?</li>
					<li>What are the <span style="color:lightblue;font-weight:bold">different types</span> of database systems? And how to choose among them?</li>
					<li>How to think about your data using <span style="color:lightgreen;font-weight:bold">database models</span>?</li>
			</section>
			<section>
				<h3>The dataset</h3>
				<img class="fragment fade-up" data-transition-speed="slow" data-src="img/enron_logo.png" width="30%" height="30%">
				<p class="fragment" style="font-size:80%">In this course we will use <span style="color:lightgreen;font-weight:bold">Enron's emails dataset</span>.</p>
				<p class="fragment" style="font-size:80%">The dataset and more information about are available on <a href="https://www.cs.cmu.edu/~enron/">CMU</a>.</p>

			</section>
			<section>
				<h1>Chapter one</h1>
				<p style="text-align: left;"><em>- Bob: Maybe we should use a database?</em> 🤔 </p>
				<p style="text-align: left;"><em>- Alice: I don't know </em> 😶 <em>don't know what a database is.</em></p>
			</section>
			<section>
				<h3>You've Got Data 🎉</h3>
				<p style="text-align:left;">Once you receive a <span style="color:lightblue;font-weight:bold">new dataset</span>, the first step is always to inspect it or at least a sample of it <span style="color:lightgreen;font-weight:bold">visually</span> and then conduct a quick <span style="color:lightgreen;font-weight:bold">Exploratory Data Analysis</span>.</p>
				<p style="text-align: left;font-size:80%">Some of the questions you might like to ask are:</p>
				<ul style="text-align: left;font-size:70%">
					<li>What is the <span style="color:lightgreen;font-weight:bold">nature</span> of your data? text, images, DNA sequances?</li>
					<li>What is the <span style="color:lightgreen;font-weight:bold">data type</span> of each column?</li>
					<li>How is your data <span style="color:lightgreen;font-weight:bold">structured</span>?</li>
			</section>
			<section>
				<h4>Inspecting the data 👀</h4>
				<img data-src="img/enron_folder_structure.png" width="70%" height="70%">
			</section>
			<section>
				<h4>Inspecting the data 👀</h4>
				<img data-src="img/enron_first_email.png" width="70%" height="70%">
			</section>
			<section data-auto-animate>
				<h4>Important attributes 📢</h4>
				<pre>
					<code data-line-numbers="1|2|3|4|5|9-12|17-36">
						<script type="text/template">Message-ID: <29790972.1075855665306.JavaMail.evans@thyme>
Date: Wed, 13 Dec 2000 18:41:00 -0800 (PST)
From: 1.11913372.-2@multexinvestornetwork.com
To: pallen@enron.com
Subject: December 14, 2000 - Bear Stearns' predictions for telecom in Latin America
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-From: Multex Investor <1.11913372.-2@multexinvestornetwork.com>
X-To: <pallen@enron.com>
X-cc: 
X-bcc: 
X-Folder: \PhillipAllenDec2000\Notes Folders\All documents
X-Origin: Allen-P
X-FileName: pallen.nsf

In today's Daily Update you'll find free reports on
America Online (AOL), Divine Interventures (DVIN),
and 3M (MMM); reports on the broadband space, Latin
American telecom, and more.

For free research, editor's picks, and more come to the Daily Investor:
http://www.multexinvestor.com/AF004627/magazinecover.asp?promo=unl&d=20001214#
investor
***************************************************************
						</script>
					</code>
				</pre>
			</section>
			<section>
				<h4>But, why do you care about this dataset?</h4>
				<p>What questions are you trying to answer?</p>
				<ul>
				<li>Maybe you want to find <span style="color:lightgreen;font-weight:bold">the most active employee</span> in the company?</li>
				<li>Maybe you want to find <span style="color:lightgreen;font-weight:bold">the most comman phrases</span> in the company's communication?</li>
				<li>Maybe you want to understand <span style="color:lightgreen;font-weight:bold">the connections between employees</span> inside the company?</li>
			</section>
			<section>
				<h3>To Database or Not to Database ❓</h3>
				</br>
				<ul style="text-align: left">
					<li>What is the <span style="color:lightgreen;font-weight:bold">size</span> of your data ?</br>		- larger than excel limit</li></br>
					<li>How often does your data <span style="color:lightgreen;font-weight:bold">change</span> ?</br>	- it gets modified every few minutes</li></br>
					<li>Who will <span style="color:lightgreen;font-weight:bold">interact</span> with your data ?</br>	- multiple researchers</li>
			</section>
			<section>
				<h3>Data Modeling &</br> Data Engineering</h3>
				<p style="text-align: left">Before importing your data to the database we need to <span style="color:lightgreen;font-weight:bold">engineer</span> it to match the <span style="color:lightgreen;font-weight:bold">model</span> of the databses management system.</p>
				<ul style="text-align: left">
					<li><span style="color:lightblue;font-weight:bold">Data Model:</span> is an abstract model that organizes elements of data and standardizes how they relate to one another and to the properties of real-world entities. <span style="font-size:40%;font-style: italic"><a href="https://en.wikipedia.org/wiki/Data_model">Wiki</a></span></li>
					<li><span style="color:lightblue;font-weight:bold">Data Engineering:</span> is the practice designing and building systems for collecting, storing, and analyzing data at scale. <span style="font-size:40%;font-style:italic"><a href="https://www.coursera.org/articles/what-does-a-data-engineer-do-and-how-do-i-become-one">coursera</a></span></li>
			</section>
			<section>
				<h4>We have to address the elephant in the room</h4>
				<img data-src="img/Postgresql_elephant.png" width="35%" height="35%">
				<p> <span style="text-size:%70;"><span style="color:lightgreen;font-weight:bold">PostgreSQL</span> is an open source Database Management System</span></p>
			</section>
			<section>
				<h3>Entity Relationship Model</h3>
				<img data-src="img/ER_diagram.png" width="70%" height="70%"></br></br>
				<ul style="text-align: left">
					<li><span style="color:lightblue;font-weight:bold">An entity</span> may be defined as a thing capable of an independent existence that can be uniquely identified.</li></br>
					<li><span style="color:lightgreen;font-weight:bold">A relationship</span> captures how entities are related to one another <span style="font-size:40%;font-style:italic"><a href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model#Entity%E2%80%93relationship_model">wiki</a></span></li>
			</section>
			<section>
				<h3>Entity Relationship Diagram</h3>
				<img data-src="img/enro_er_diagram.png" width="100%" height="100%">
				<p>Can you think of a different way to represent the data?</p>
			</section>
			<section>
                            	<h3>The course server</h3>
				<p>Our <span style="color:lightgreen;font-weight:bold">PostgreSQL</span> is accessible here</p>
				<pre>
					<code>
						<script type="text/template">server: 46.101.61.149:5050
email: db_user@cdh.cam
password: Theorize_Attentive5_Tantrum
						</script>
					</code>
				</pre>
			</section>
			<section data-auto-animate>
				<h4>PG Admin interface</h4>
				<img data-src="img/pg_admin_browser.png" width="35%" height="35%">
				<p>Find enron tables</p>
			</section>
			<section data-auto-animate>
				<h4>Let's check the data</h4>
				<img data-src="img/users_table.png" width="100%" height="100%">
				<p>Users table</p>
			</section>
			<section data-auto-animate>
				<h4>Let's check the data</h4>
				<img data-src="img/email_transactions_table.png" width="100%" height="100%">
				<p>Email transactions table</p>
			</section>
			<section data-auto-animate>
				<h4>Let's check the data</h4>
				<img data-src="img/email_table.png" width="100%" height="100%">
				<p>Emails table</p>
			</section>
			<section data-auto-animate>
				<h4>Find the most active day 🤸🏾</h4>
				<pre>
					<code data-line-numbers="1|2|3|4">
						<script type="text/template">SELECT emails.email_date::date  "Day", count(*) Transactions
FROM emails
group by 1
ORDER BY Transactions DESC;
						</script>
					</code>
				</pre>
			</section>
			<section data-auto-animate>
				<h4>Find who recieved the highest count of emails 📬</h4>
				<pre>
					<code data-line-numbers="3-6|3,7,8|1,2,9">
						<script type="text/template">SELECT a.emails_count,
       b.*
FROM   (SELECT receiver,
               Count(*) AS emails_count
        FROM   email_transactions
        GROUP  BY receiver) a
       	INNER JOIN users b
               ON a.receiver = b.user_id
ORDER  BY a.emails_count DESC;  
						</script>
					</code>
				</pre>
			</section>
			<section data-auto-animate>
				<h4>Find who was cc'd/to'd in emails the most 📥</h4>
				<pre>
					<code data-line-numbers="6-10,12-16|5,11,17|1,2-4,18,19">
						<script type="text/template">SELECT *
FROM
  (SELECT c.to_receiver AS receiver,
          c.to_emails_count/c.cc_emails_count AS to_cc_ratio
   FROM (
           (SELECT receiver AS to_receiver,
                   Count(*) AS to_emails_count
            FROM email_transactions
            WHERE transaction_type LIKE 'to'
            GROUP BY to_receiver) AS a
         INNER JOIN
           (SELECT receiver AS cc_receiver,
                   Count(*) AS cc_emails_count
            FROM email_transactions
            WHERE transaction_type LIKE 'cc'
            GROUP BY cc_receiver) AS b 
	    ON a.to_receiver = b.cc_receiver) AS c) AS d
INNER JOIN users e ON d.receiver = e.user_id
ORDER BY d.to_cc_ratio DESC;						</script>
					</code>
				</pre>
			</section>
			<section data-auto-animate>
				<h4>Find who sends the most emails and receives the least 📭</h4>
				<pre>
					<code>
						<script type="text/template">SELECT *
FROM
  (SELECT c.sender AS person_id,
          c.send_count/c.receive_count AS send_receive_ratio,
          c.send_count,
          c.receive_count
   FROM (
           (SELECT sender,
                   Count(*) AS send_count
            FROM email_transactions
            GROUP BY sender) AS a
         INNER JOIN
           (SELECT receiver,
                   Count(*) AS receive_count
            FROM email_transactions
            GROUP BY receiver) AS b ON a.sender = b.receiver
         AND a.send_count > 10
         AND b.receive_count > 10) AS c) AS d
INNER JOIN users e ON d.person_id = e.user_id
ORDER BY d.send_receive_ratio DESC;
						</script>
					</code>
				</pre>
			</section>
			<section data-auto-animate>
				<h4>Find who sent emails about LJM the most 📮</h4>
				<pre>
					<code>
						<script type="text/template">SELECT *
FROM
  (SELECT c.sender,
          COUNT(*) AS "email_count"
   FROM
     (SELECT *
      FROM
        (SELECT email_message_id
         FROM emails
         WHERE email_body ~ ' *ljm\d* *') AS a
      INNER JOIN email_transactions b ON a.email_message_id = b.email_message_id) AS c
   GROUP BY c.sender) AS d
INNER JOIN users e ON d.sender = e.user_id
ORDER BY d.email_count DESC;
						</script>
					</code>
				</pre>
			</section>


			<section data-auto-animate>	
				<pre data-id="code-animation">
					<code data-trim data-line-numbers>
						<script type="text/template">
							"key" :
						</script>
					</code>
				</pre>
				<p>Query the key</p>
			</section>
			<section data-auto-animate>
			<pre data-id="code-animation">
				<code data-trim data-line-numbers>
					<script type="text/template">
						"data" : "values"
					</script>
				</code>
			</pre>
			<h5>read the value</h5>
			</section>
			<section>
				<section>Slide 1</section>
				<section>Slide 2</section>
			</section>
			<section data-markdown>
				<script type="text/template">
					<!-- .slide: data-background="#ff0000" -->
					Markdown content
				</script>
			</section>
			<section data-markdown>
				<script type="text/template">
					- Item 1 <!-- .element: class="fragment" data-fragment-index="2" -->
					- Item 2 <!-- .element: class="fragment" data-fragment-index="1" -->
				</script>
			</section>
			<section>
				<pre><code data-line-numbers="0-1|4-5" data-ln-start-from="7">
						<script type="text/template"><tr>
	<td>Oranges</td>
	<td>$2</td>
	<td>18</td>
</tr>
						</script>
					</code></pre>
			</section>
			<section>
				<button class="navigate-left">Left</button>
				<button class="navigate-right">Right</button>
				<button class="navigate-up">Up</button>
				<button class="navigate-down">Down</button>

				<!-- Previous vertical OR horizontal slide -->
				<button class="navigate-prev">Prev</button>

				<!-- Next vertical OR horizontal slide -->
				<button class="navigate-next">Next</button>
			</section>
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			slideNumber:"h/v",

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>

</html>
